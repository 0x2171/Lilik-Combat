<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <title>Lilik Combat</title>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            text-align: center;
            background: linear-gradient(135deg, #f0f0f0, #c0c0c0);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-image: url('https://github.com/0x2171/Lilik-Combat/blob/main/images/Background.png?raw=true');
            background-size: cover;
            background-position: center;       
        }
        .name, h1, h3 {
            color: #a52a2a;
            font-size: 36px;
            margin-bottom: 20px;
            animation: textShadow 2s infinite;
        }
        @keyframes textShadow {
            0% { text-shadow: 0 0 5px #ffa500; }
            50% { text-shadow: 0 0 10px #ffa500; }
            100% { text-shadow: 0 0 5px #ffa500; }
        }
        #coin {
            width: 150px;
            height: 150px;
            background-image: url('https://github.com/0x2171/Lilik-Combat/blob/main/images/LilikCoin.png?raw=true');
            background-size: cover;
            border-radius: 50%;
            margin: 80px auto;
            transform: scale(1.8);
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            outline: none;
            position: relative;
        }
        #coin:active {
            animation: coinPress 0.3s;
        }
        @keyframes coinPress {
            0% {
                transform: scale(1.8);
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            }
            50% {
                transform: scale(1.7);
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            }
            100% {
                transform: scale(1.8);
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            }
        }
        #score {
            font-size: 28px;
            margin-top: 20px;
            color: #a52a2a;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 10px 20px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            animation: textShadow 2s infinite;
        }
        #upgscore {
            position: fixed;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 16px;
            color: #a52a2a;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 10px 20px;
            border-radius: 5px;
            max-width: 150px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            animation: textShadow 2s infinite;
        }
        #nameupg {
            position: fixed;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #a52a2a;
            font-size: 26px;
            animation: textShadow 2s infinite;
        }
        #upgrades {
            max-width: 800px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .upgrade {
            margin: 8px;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: rgba(255, 255, 255, 0.8);
            transition: background-color 0.3s, transform 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            color: #a52a2a;
            animation: textShadow 2s infinite;
        }
        .upgrade:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }
        .upgrade:active {
            background-color: #ffa500;
            transform: scale(0.95);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        @media (max-width: 600px) {
            h1 {
                font-size: 24px;
            }
            #coin {
                width: 100px;
                height: 100px;
            }
            #score {
                font-size: 20px;
                padding: 5px 10px;
            }
            .upgrade {
                padding: 10px;
                font-size: 14px;
            }
        }
        #resetButton {
            position: fixed;
            top: 1px;
            left: 0;
            margin-top: 0;
            padding: 1px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: rgba(255, 255, 255, 0.8);
            transition: background-color 0.3s, transform 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            font-size: 10px;
            color: #a52a2a;
            animation: textShadow 2s infinite;
        }
        #resetButton:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }
        #resetButton:active {
            background-color: #ffa500;
            transform: scale(0.95);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        #nav-place {
            width: 100%;
            height: 70px;
            position: fixed;
            bottom: 0px;
            display: flex;
            background-color: rgba(160, 82, 45, 0.85);
        }
        .nav-buttons {
            position: fixed;
            bottom: 16px;
            display: flex;
            gap: 1px;
        }
        .nav-button {
            padding: 1px 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: rgba(255, 255, 255, 0.8);
            transition: background-color 0.3s, transform 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            color: #a52a2a;
            animation: textShadow 2s infinite;
            text-decoration: none;
            cursor: none;
        }
        .nav-button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }
        .nav-button:active {
            background-color: #ffa500;
            transform: scale(0.95);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .page {
            display: none;
        }
        .page.active {
            display: block;
        }
        #loading-screen {
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background-image: url('https://github.com/0x2171/Lilik-Combat/blob/main/images/Background.png?raw=true');
           background-size: cover;
           background-position: center;
           display: flex;
           flex-direction: column;
           justify-content: center;
           align-items: center;
           z-index: 999;
        }
        #loading-spinner {
           border: 16px solid #f3f3f3;
           border-top: 16px solid orange;
           border-radius: 50%;
           width: 120px;
           height: 120px;
           animation: spin 2s linear infinite;
         }
         @keyframes spin {
             0% { transform: rotate(0deg); }
             100% { transform: rotate(360deg); }
         }
         .coin-effect {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 20px;
            color: white;
            animation: fadeOut 1s ease-in-out;
            pointer-events: none;
            cursor: none;
        }
        @keyframes fadeOut {
            0% { opacity: 1; transform: translate(100%, -100%) scale(1); }
            100% { opacity: 0; transform: translate(150%, -50%) scale(1.5); }
        }
        #progress-container {
            display: flex;
            align-items: center;
            margin-top: 20px;
        }
        #progress-bar {
            width: 200px;
            height: 20px;
            background-color: #ccc;
            border-radius: 5px;
            margin: 0 10px;
            position: relative;
        }
        #progress-bar-fill {
            height: 100%;
            background-color: #ffa500;
            border-radius: 5px;
            transition: width 0.3s;
        }
        #progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 12px;
        }
        #current-level {
            color: #ffa500;
        }
    #next-level {
            color: #ffa500;
        }
    
    #achievement-list {
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 120%;
}

.achievement {
    margin: 10px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    background-color: rgba(255, 255, 255, 0.8);
    transition: background-color 0.3s, transform 0.3s;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    color: #a52a2a;
    animation: textShadow 2s infinite;
    display: flex;
    align-items: center;
    width: 300px;
    font-size: 14px;
}

.achievement.unlocked {
    background-color: #ffa500;
    color: white;
}

.achievement-check {
    margin-right: 10px;
    font-size: 20px;
}

    #airdrop-info {
    margin-top: 20px;
    font-size: 15px;
    color: #a52a2a;
    background-color: rgba(255, 255, 255, 0.8);
    padding: 2px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    animation: textShadow 2s infinite;
}

    </style>
</head>
<body>
    <div id="loading-screen">
        <div id="loading-spinner"></div>
        <h1>Loading</h1>
    </div>
    <div id="nav-place"></div>
    <div class="nav-buttons">
        <a href="#mine" class="nav-button">🏠 Mine</a>
        <a href="#upgrade" class="nav-button">🔧 Upgrade</a>
        <a href="#achievements" class="nav-button">🏆 Achievs</a>
        <a href="#airdrop" class="nav-button">🛸 Airdrop</a>
        
    </div>

    <div id="mine" class="page active">
        <div class="name">Lilik Combat</div>
        <div id="coin"></div>
        <div id="score">Lilik Coins: 0</div>
        <div id="progress-container">
            <div id="current-level">1</div>
            <div id="progress-bar">
                <div id="progress-bar-fill"></div>
                <div id="progress-text"></div>
            </div>
            <div id="next-level">2</div>
        </div>
        <div id="resetButton">Reset all progress</div>
    </div>

    <div id="upgrade" class="page">
        <div id="upgscore">Lilik Coins: 0</div>
        <div id="nameupg">Upgrade</div>
        <div id="upgrades">
            <div class="upgrade" id="upgrade1"></div>
            <div class="upgrade" id="upgrade2"></div>
            <div class="upgrade" id="upgrade3"></div>
            <div class="upgrade" id="upgrade4"></div>
            <div class="upgrade" id="upgrade5"></div>
        </div>
    </div>

    <div id="airdrop" class="page">
    <h1>Airdrop</h1>
    <h3>Listing Information</h3>
    <div id="airdrop-info">
        <p>Coin Name: Lilik Coin</p>
        <p>Ticker: LILIK</p>
        <p>Total Supply: 15,000,000</p>
        <p>Circulating Supply: 122,481</p>
        <p>Airdrop Date: TBA</p>
        <p>Airdrop Amount: TBA</p>
    </div>
</div>


     <div id="achievements" class="page">
    <h1>Achievements</h1>
    <div id="achievement-list"></div>
</div>
    
    <script>
        const tgwindow = window.Telegram.WebApp;
tgwindow.isExpanded;
tgwindow.expand();

const MIN_LOADING_TIME = 1500;
window.addEventListener('load', () => {
    const loadingScreen = document.getElementById('loading-screen');
    setTimeout(() => {
        loadingScreen.style.display = 'none';
    }, MIN_LOADING_TIME);
});

let score = 0;
let upgradeCosts = [500, 2000, 4000, 5000, 8000];
let coinValue = 1;
let currentLevel = 1;
const levels = [100, 300, 500, 800, 1000, 1500, 2500, 5000, 10000, 50000, 100000, 500000, 1000000];

const scoreDisplay = document.getElementById('score');
const upgScoreDisplay = document.getElementById('upgscore');
const coin = document.getElementById('coin');
const upgrades = document.querySelectorAll('.upgrade');
const upgradeValues = [1, 2, 5, 8, 10];
const upgradeMultipliers = [2, 3, 3, 5, 6];
const upgradeImages = [
    'https://github.com/0x2171/Lilik-Combat/blob/main/images/u1f98a_u2615.png?raw=true',
    'https://github.com/0x2171/Lilik-Combat/blob/main/images/u1f98a_u1f60e.png?raw=true',
    'https://github.com/0x2171/Lilik-Combat/blob/main/images/u1f9c3_u1f98a.png?raw=true',
    'https://github.com/0x2171/Lilik-Combat/blob/main/images/u1f304_u1f98a.png?raw=true',
    'https://github.com/0x2171/Lilik-Combat/blob/main/images/u1f98a_u1f98a.png?raw=true'
];

const currentLevelDisplay = document.getElementById('current-level');
const nextLevelDisplay = document.getElementById('next-level');
const progressBarFill = document.getElementById('progress-bar-fill');
const progressText = document.getElementById('progress-text');

const achievements = [
    { name: 'First Coin', description: 'Earn your first coin', condition: () => score >= 1 },
    { name: '100 Coins', description: 'Earn 100 coins', condition: () => score >= 100 },
    { name: 'Click Master', description: 'Earn 1000 coins', condition: () => score >= 1000 },
    { name: 'High Level', description: 'Reach level 10', condition: () => currentLevel >= 10 },
    { name: 'Beloved LiliFox', description: 'Earn 224800 coins', condition: () => score >= 224800 },
    { name: 'Upgraded', description: 'Use all upgrades at least once', condition: () => upgradeValues.every(value => coinValue >= value) }
];

function checkAchievements() {
    achievements.forEach((achievement, index) => {
        const achievementItem = document.getElementById(`achievement-${index}`);
        if (achievement.condition()) {
            achievementItem.classList.add('unlocked');
            achievementItem.querySelector('.achievement-check').textContent = '✅';
        }
    });
}

function updateAchievements() {
    const achievementList = document.getElementById('achievement-list');
    achievementList.innerHTML = '';
    achievements.forEach((achievement, index) => {
        const achievementItem = document.createElement('div');
        achievementItem.id = `achievement-${index}`;
        achievementItem.className = 'achievement';
        achievementItem.innerHTML = `
            <span class="achievement-check">❌</span>
            <span>${achievement.name}: ${achievement.description}</span>
        `;
        achievementList.appendChild(achievementItem);
    });
    checkAchievements();
}

coin.addEventListener('click', () => {
    score += coinValue;
    updateScore();
    updateLevel();
    showCoinEffect(coinValue);
    checkAchievements();
});

upgrades.forEach((upgrade, index) => {
    upgrade.addEventListener('click', () => {
        if (score >= upgradeCosts[index]) {
            score -= upgradeCosts[index];
            coinValue += upgradeValues[index];
            upgradeCosts[index] *= upgradeMultipliers[index];
            updateScore();
            upgrade.innerHTML = `<img src="${upgradeImages[index]}" alt="Upgrade ${upgradeValues[index]} Image" style="width:50px;height:50px;"> Coins +${upgradeValues[index]} (Cost: ${upgradeCosts[index]})`;
        }
    });
});

function updateScore() {
    scoreDisplay.textContent = `Lilik Coins: ${score}`;
    upgScoreDisplay.textContent = `Lilik Coins: ${score}`;
    localStorage.setItem('lilikScore', score);
    localStorage.setItem('lilikCoinValue', coinValue);
    upgradeCosts.forEach((cost, index) => {
        localStorage.setItem(`lilikUpgrade${upgradeValues[index]}Cost`, cost);
    });
}

function updateLevel() {
    for (let i = 0; i < levels.length; i++) {
        if (score < levels[i]) {
            currentLevel = i + 1;
            break;
        }
    }
    currentLevelDisplay.textContent = currentLevel;
    nextLevelDisplay.textContent = currentLevel + 1;
    const progress = (score - (levels[currentLevel - 2] || 0)) / (levels[currentLevel - 1] - (levels[currentLevel - 2] || 0)) * 100;
    progressBarFill.style.width = `${progress}%`;
    progressText.textContent = `${Math.round(progress)}%`;
}

function loadScore() {
    const savedScore = localStorage.getItem('lilikScore');
    const savedCoinValue = localStorage.getItem('lilikCoinValue');
    const savedCurrentLevel = localStorage.getItem('lilikCurrentLevel');

    if (savedScore !== null) {
        score = parseInt(savedScore, 10);
    }
    if (savedCoinValue !== null) {
        coinValue = parseInt(savedCoinValue, 10);
    }
    if (savedCurrentLevel !== null) {
        currentLevel = parseInt(savedCurrentLevel, 10);
    }
    upgradeCosts.forEach((cost, index) => {
        const savedCost = localStorage.getItem(`lilikUpgrade${upgradeValues[index]}Cost`);
        if (savedCost !== null) {
            upgradeCosts[index] = parseInt(savedCost, 10);
        }
    });

    updateScore();
    updateLevel();
    upgrades.forEach((upgrade, index) => {
        upgrade.innerHTML = `<img src="${upgradeImages[index]}" alt="Upgrade ${upgradeValues[index]} Image" style="width:50px;height:50px;"> Coins +${upgradeValues[index]} (Cost: ${upgradeCosts[index]})`;
    });
    updateAchievements(); 
}

const resetButton = document.getElementById('resetButton');
resetButton.addEventListener('click', () => {
    score = 0;
    coinValue = 1;
    upgradeCosts = [500, 2000, 4000, 5000, 8000];
    currentLevel = 1;
    updateScore();
    updateLevel();
    updateAchievements(); 
    localStorage.clear();
});

loadScore();

// Навигация
const navButtons = document.querySelectorAll('.nav-button');
navButtons.forEach(button => {
    button.addEventListener('click', (event) => {
        event.preventDefault();
        const targetId = event.target.getAttribute('href').substring(1);
        document.querySelectorAll('.page').forEach(page => {
            page.classList.remove('active');
        });
        document.getElementById(targetId).classList.add('active');
    });
});

function showCoinEffect(value) {
    const effect = document.createElement('div');
    effect.className = 'coin-effect';
    effect.textContent = `+${value}`;
    coin.appendChild(effect);
    setTimeout(() => {
        coin.removeChild(effect);
    }, 1000);
}
    </script>
</body>
</html>
